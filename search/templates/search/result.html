<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Result Page</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'search/css/result.css' %}">
</head>
<body>
    <!-- 헤더 -->
    <header class="main-header">
        <b>Search Result for '어쩌구'</b>
    </header>

    <div class="main-container">
        <!-- 사이드바 -->
        <aside class="sidebar">
            <p class="sidebar-title">MENU</p>
            <hr>
            <button id="youtube-button" class="active">YouTube</button>
            <button id="spotify-button">Spotify</button>
        </aside>

        <!-- 메인 콘텐츠 -->
        <div class="main-content">
            <!-- 검색창 -->
            <section class="search-container">
                <div class="search-bar">
                    <div class="group">
                        <svg class="icon" aria-hidden="true" viewBox="0 0 24 24">
                            <g>
                                <path d="M21.53 20.47l-3.66-3.66C19.195 15.24 20 13.214 20 11c0-4.97-4.03-9-9-9s-9 4.03-9 9 4.03 9 9 9c2.215 0 4.24-.804 5.808-2.13l3.66 3.66c.147.146.34.22.53.22s.385-.073.53-.22c.295-.293.295-.767.002-1.06zM3.5 11c0-4.135 3.365-7.5 7.5-7.5s7.5 3.365 7.5 7.5-3.365 7.5-7.5 7.5-7.5-3.365-7.5-7.5z"></path>
                            </g>
                        </svg>
                        <input placeholder="검색어를 입력하세요" type="search" class="input">
                    </div>
                </div>
            </section>

            <!-- 검색결과 -->
            <section class="result-container">
                <!-- YouTube 검색결과 -->
                <div id="youtube-section">
                    <div class="youtube-videos-container">
                        <section class="result-list">
                            <h2>YouTube Recommended Video</h2>
                            <div class="results-grid">
                                {% for video in youtube_videos %}
                                <div class="result-item">
                                    <div class="thumbnail">
                                        <img src="{{ video.thumbnail_url }}" alt="{{ video.video_title }}">
                                    </div>
                                    <div class="details">
                                        <p class="title">{{ video.video_title }}</p>
                                        <p class="artist">{{ video.artist }}</p>
                                    </div>
                                    <div class="action">
                                        <a href="{{ video.video_url }}" class="view-btn" target="_blank">담기</a>
                                    </div>
                                </div>
                                {% empty %}
                                <p>유튜브 추천 비디오가 없습니다.</p>
                                {% endfor %}
                            </div>
                        </section>
                    </div>

                    <div class="youtube-playlist-container">
                        <section class="result-list">
                            <h2>YouTube Recommended Playlist</h2>
                            <div class="playlist-grid">
                                {% for playlist in youtube_playlists %}
                                <div class="playlist-item">
                                    <div class="thumbnail">
                                        <img src="{{ playlist.thumbnail_url }}" alt="{{ playlist.playlist_title }}">
                                    </div>
                                    <p class="title">{{ playlist.playlist_title }}</p>
                                </div>
                                {% empty %}
                                <p>유튜브 추천 플레이리스트가 없습니다.</p>
                                {% endfor %}
                            </div>
                        </section>
                    </div>
                </div>

                <!-- Spotify 검색결과 -->
                <div id="spotify-section" class="hidden">
                    <div class="spotify-recommend-container">
                        <section class="result-list">
                            <h2>Spotify Recommended Music</h2>
                            <div class="results-grid">
                                {% for recommend in spotify_recommend %}
                                <div class="result-item">
                                    <div class="thumbnail">
                                        <img src="{{ recommend.cover_image }}" alt="{{ recommend.title }}">
                                    </div>
                                    <div class="details">
                                        <p class="title">{{ recommend.title }}</p>
                                        <p class="artist">{{ recommend.artist }}</p>
                                    </div>
                                    <div class="action">
                                        <a href="{{ recommend.link }}" class="view-btn" target="_blank">담기</a>
                                    </div>
                                </div>
                                {% empty %}
                                <p>스포티파이 추천 곡이 없습니다.</p>
                                {% endfor %}
                            </div>
                        </section>
                    </div>

                    <div class="spotify-playlist-container">
                        <section class="result-list">
                            <h2>Spotify Recommended Playlist</h2>
                            <div class="playlist-grid">
                                {% for playlist in spotify_playlists %}
                                <div class="playlist-item">
                                    <div class="thumbnail">
                                        <img src="{{ playlist.cover_image }}" alt="{{ playlist.title }}">
                                    </div>
                                    <p class="title">{{ playlist.title }}</p>
                                </div>
                                {% empty %}
                                <p>스포티파이 추천 플레이리스트가 없습니다.</p>
                                {% endfor %}
                            </div>
                        </section>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 모달 -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-modal-btn">&times;</span>
            <h2>모달 창</h2>
            <p>여기에 재생하는 기능 추가</p>
        </div>
    </div>

    <!-- 플로팅 버튼 -->
    <div class="floating-button" id="open-modal-btn">▶</div>

    <!-- JavaScript -->
    <script src="{% static 'search/js/result.js' %}"></script>
</body>
</html>
